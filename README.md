# Разработка подсистемы учета психологических консультаций учащихся школы

> Документ оформлен по структуре пояснительной записки (ПЗ). В этом этапе подробно раскрыта **специальная часть** с текстовыми описаниями всех пунктов без вставки схем и диаграмм.

## ВВЕДЕНИЕ

Подсистема учета психологических консультаций разработана для автоматизации деятельности школьного психолога и сопровождения учащихся в рамках обращений, консультаций и обратной связи.

Решение ориентировано на практическое применение в образовательной организации и закрывает ключевые процессы: регистрация обращений, учет консультаций, контроль статусов, коммуникация и отчетность.

---

## ОБЩАЯ ЧАСТЬ

### Цель разработки

Создание веб-подсистемы, которая обеспечивает:

- централизованный учет обращений и консультаций;
- строгую ролевую модель доступа;
- контроль бизнес-правил и целостности данных;
- прозрачную аналитику и выгрузку отчетов;
- административные функции сопровождения базы данных.

### Средства разработки

- Язык: `Python 3.13+`
- Фреймворк: `Django 4.2.x`
- СУБД: `PostgreSQL`
- Дополнительные библиотеки: `psycopg`, `openpyxl`, `reportlab`, `python-dotenv`
- IDE: Visual Studio Code (рекомендуется)

---

## СПЕЦИАЛЬНАЯ ЧАСТЬ

### Постановка задачи

Разрабатываемая подсистема предназначена для учета психологических консультаций учащихся школы и обеспечивает полный рабочий цикл взаимодействия между учащимся, школьным психологом и администратором системы.

В рамках предметной области требуется решить следующие прикладные задачи:

- организовать единое хранилище данных по учащимся, обращениям, консультациям, заметкам, прикрепленным документам и служебным журналам;
- реализовать ролевую модель доступа с разграничением полномочий для `student`, `psychologist`, `admin`;
- обеспечить регистрацию обращений учащихся и сопровождение их статусов (`new`, `in_progress`, `completed`, `cancelled`);
- реализовать учет консультаций с проверкой организационных ограничений (форма, дата, время, длительность, подтверждение участия);
- обеспечить возможность обратной связи через личный чат учащегося с психологом;
- реализовать отчетность по консультационной деятельности с фильтрацией по периоду, статусам и учащимся;
- обеспечить экспорт отчетов в PDF и Excel;
- обеспечить резервное копирование базы данных (форматы SQL и DUMP), скачивание и удаление резервных копий;
- обеспечить корректную работу с русскоязычными данными и московским часовым поясом.

Ключевой принцип реализации: все бизнес-правила выполняются не только на уровне интерфейса, но и на серверной стороне, чтобы исключить обход ограничений при прямых HTTP-запросах.

### 2.1 Входные и выходные данные предметной области

#### 2.1.1 Входные данные предметной области

Входные данные предметной области представляют собой совокупность сведений, вводимых пользователями подсистемы в процессе работы с функциональными модулями системы учета психологических консультаций.

К входным данным относятся данные авторизации, регистрационные данные учащегося, данные обращений, параметры консультаций, текстовые сообщения чата, параметры фильтрации отчетов и служебные параметры резервного копирования базы данных.

В таблице 1 представлены входные данные, используемые в подсистеме, с указанием источника ввода, обязательности и действующих ограничений валидации.

**Таблица 1 – Входные данные предметной области**

| № | Источник ввода | Поле/параметр | Тип | Обязательность | Проверки/ограничения |
|---|---|---|---|---|---|
| 1 | Авторизация | Логин | Строка | Да | Пользователь должен существовать |
| 2 | Авторизация | Пароль | Строка | Да | Проверка хеша пароля |
| 3 | Регистрация учащегося | Фамилия, имя, отчество | Строка | Да | Русскоязычные ФИО, нормализация пробелов |
| 4 | Регистрация учащегося | Дата рождения | Дата | Да | Корректная календарная дата |
| 5 | Регистрация учащегося | Класс | Ссылка на класс | Да | Должен существовать в справочнике |
| 6 | Регистрация пользователя | Логин | Строка | Да | Уникальность логина |
| 7 | Регистрация пользователя | Пароль | Строка | Да | Базовая валидация Django |
| 8 | Восстановление доступа | Кодовое слово | Строка | Да | Сверка с сохраненным хешем кодового слова |
| 9 | Обращение учащегося | Заметка к обращению | Текст | Нет | При заполнении — минимальная длина |
| 10 | Карточка обращения | Статус обращения | Справочник | Да | Допустимые переходы статусов по ролям |
| 11 | Регистрация консультации | Дата консультации | Дата | Да | Не в прошлом; проверка на текущую дату |
| 12 | Регистрация консультации | Время начала | Время | Да | Диапазон 08:30–16:00; не в прошлом для текущего дня |
| 13 | Регистрация консультации | Время окончания | Время | Да | Позже начала; диапазон 08:30–16:00 |
| 14 | Регистрация консультации | Форма | Справочник | Да | Только `individual` или `group` |
| 15 | Регистрация консультации | Список учащихся | Множественный выбор | Да | Для `individual` ровно 1; для `group` не менее 2 |
| 16 | Завершение консультации | Результат | Текст | Да (для завершения) | Не допускается пустое значение |
| 17 | Работа с консультацией | Вложение | Файл | Нет | Контроль формата и пути сохранения |
| 18 | Заметки психолога | Текст заметки | Текст | Да | Минимальная длина, запрет пустых строк |
| 19 | Чат | Текст сообщения | Текст | Да | Минимальная длина, фильтрация пустого ввода |
| 20 | Отчеты | `date_from`, `date_to`, `status`, `student_id` | Параметры | Нет | Корректные типы и форматы |
| 21 | Бэкап БД | Формат копии | Перечисление | Да | Только `sql` или `dump` |

### Выходные данные предметной области

Выходные данные включают экранные формы, служебные сообщения, изменения в БД, а также экспортируемые файлы.

#### Таблица 2. Выходные данные предметной области

| № | Результат | Формат/носитель | Инициатор | Содержание |
|---|---|---|---|---|
| 1 | Список учащихся | Веб-страница | Психолог/админ | ФИО, класс, поиск, фильтрация |
| 2 | Карточка учащегося | Веб-страница | Психолог/админ | Персональные данные учащегося |
| 3 | Список обращений | Веб-страница | Психолог | Группировка по статусам, действия |
| 4 | Карточка обращения | Веб-страница | Психолог/админ | Статус, источник, заметки, консультации |
| 5 | Журнал консультаций | Веб-страница | Психолог/админ | Дата, время, форма, участники, состояние |
| 6 | Карточка консультации | Веб-страница | Психолог/админ | Результат, заметки, вложения, участники |
| 7 | Личный кабинет учащегося | Веб-страница | Учащийся | Обращения, консультации, уведомления |
| 8 | Личный чат | Веб-страница | Учащийся/психолог/админ(просмотр) | Диалог и отметки прочтения |
| 9 | Отчет по динамике | Веб-страница + графики | Психолог | Динамика обращений/консультаций |
| 10 | Отчет по нагрузке | Веб-страница + графики | Психолог | Сводные показатели нагрузки |
| 11 | Отчет по консультациям | Веб-страница + графики | Админ | Статистика консультаций |
| 12 | Экспорт отчета | PDF | Психолог/админ | Таблицы, подписи, графики |
| 13 | Экспорт отчета | XLSX | Психолог/админ | Таблицы, форматирование, графики |
| 14 | Резервная копия БД | `.sql`/`.dump` в `backups/` | Админ | Структура и данные базы |
| 15 | Лог служебных операций | Таблица `logs` | Система | Фиксация действий (создание/удаление бэкапа и др.) |

### Требования к проекту

#### Функциональные требования

1. Поддержка авторизации и ролевого доступа.
2. Поддержка регистрации учащихся и ведения их карточек.
3. Возможность подачи обращения учащимся с заметкой.
4. Возможность регистрации консультации психологом.
5. Контроль формы консультации: индивидуальная — один учащийся, групповая — минимум два.
6. Запрет регистрации консультации на прошедшие дату/время.
7. Ограничение времени консультации диапазоном 08:30–16:00.
8. Ограничение длительности консультации максимум 120 минут.
9. Завершение консультации только закрепленным психологом и только при выполненных условиях.
10. Корректное каскадное обновление связанных статусов при отмене консультации.
11. Запрет подтверждения/отмены участия для отмененных и завершенных консультаций.
12. Личный чат учащегося с психологом с персональным учетом непрочитанных сообщений.
13. Админ-функции резервного копирования, скачивания и удаления бэкапов.
14. Формирование отчетов с последующим экспортом в PDF и XLSX.

#### Нефункциональные требования

- русскоязычный интерфейс;
- корректная работа с часовым поясом `Europe/Moscow`;
- обработка ошибок внешних команд (`pg_dump` и др.);
- сохранение целостности данных при конкурентном доступе;
- модульная структура проекта и расширяемость.

### Внешняя спецификация

#### Описание задачи

Подсистема обеспечивает цифровой контур сопровождения психологической работы в школе:

- от первичного обращения учащегося;
- через этап планирования и проведения консультации;
- до фиксации результата и отражения показателей в отчетности.

Распределение ответственности по ролям:

- **Учащийся**: создает обращения, подтверждает участие, общается в чате, отслеживает статусы.
- **Психолог**: ведет обращения и консультации, оформляет результат, работает с заметками и вложениями.
- **Администратор**: администрирует пользователей и инфраструктурные функции (бэкапы, служебный контроль).

#### Входные и выходные данные

##### 2.2.2 Входные данные

В Таблице 4 представлены входные данные, которые вводит пользователь при взаимодействии с подсистемой учета психологических консультаций.

**Таблица 4 – Входные данные**

Данные авторизации и профиля

| № | Имя | Тип | Ограничение | Формат ввода | Описание |
|---|---|---|---|---|---|
| 1 | Login | string | [a–z, A–Z, 0–9, _, .]; {3, 50} | Текстовое поле | Логин пользователя для входа в систему |
| 2 | Password | string | [a–z, A–Z, 0–9, !, @, #, $, %, ^, &, *]; {6, 128} | Текстовое поле (скрытое) | Пароль пользователя |
| 3 | RecoveryWord | string | [а–я, А–Я, a–z, A–Z, 0–9]; {3, 64} | Текстовое поле | Кодовое слово для восстановления доступа |
| 4 | LastName | string | [а–я, А–Я, -]; {2, 50} | Текстовое поле | Фамилия учащегося |
| 5 | FirstName | string | [а–я, А–Я, -]; {2, 50} | Текстовое поле | Имя учащегося |
| 6 | MiddleName | string | [а–я, А–Я, -]; {2, 50} | Текстовое поле | Отчество учащегося |
| 7 | BirthDate | date | Корректная дата | Поле даты | Дата рождения учащегося |
| 8 | Classroom | int/string | Существующий класс | Список | Класс учащегося |

Данные поиска и фильтрации

| № | Имя | Тип | Ограничение | Формат ввода | Описание |
|---|---|---|---|---|---|
| 1 | SearchQuery | string | [а–я, А–Я, a–z, A–Z, 0–9, пробел]; {1, 255} | Текстовое поле | Поисковый запрос по ФИО/классу/записям |
| 2 | FilterDateFrom | date | Корректная дата | Поле даты | Нижняя граница периода |
| 3 | FilterDateTo | date | Корректная дата | Поле даты | Верхняя граница периода |
| 4 | FilterStatus | string | {new, in_progress, completed, cancelled} | Список | Фильтр по статусу обращения |
| 5 | FilterStudent | int | [1 – 999999] | Список | Фильтр по учащемуся |

Данные обращений и консультаций

| № | Имя | Тип | Ограничение | Формат ввода | Описание |
|---|---|---|---|---|---|
| 1 | RequestNote | string | [а–я, А–Я, a–z, A–Z, 0–9, знаки пунктуации]; {0, 1000} | Текстовое поле | Заметка учащегося к обращению |
| 2 | ConsultationDate | date | Не в прошлом | Поле даты | Дата консультации |
| 3 | StartTime | time | [08:30 – 16:00] | Поле времени | Время начала консультации |
| 4 | EndTime | time | [08:30 – 16:00], EndTime > StartTime, длительность ≤ 120 мин | Поле времени | Время окончания консультации |
| 5 | ConsultationForm | string | {individual, group} | Список | Форма консультации |
| 6 | Students[] | array<int> | individual: 1; group: >= 2 | Множественный список | Участники консультации |
| 7 | ConsultationResult | string | {10, 5000} | Текстовое поле | Результат консультации для завершения |

Данные чата и уведомлений

| № | Имя | Тип | Ограничение | Формат ввода | Описание |
|---|---|---|---|---|---|
| 1 | ChatMessageText | string | {2, 2000} | Текстовое поле | Текст сообщения в личном чате |
| 2 | ReadMark | boolean/datetime | Системное | Автоматически | Отметка прочтения сообщения пользователем |

Административные данные

| № | Имя | Тип | Ограничение | Формат ввода | Описание |
|---|---|---|---|---|---|
| 1 | BackupFormat | string | {sql, dump} | Список | Формат создаваемой резервной копии БД |
| 2 | BackupFileName | string | Допустимое имя файла | Автогенерация/выбор | Имя файла бэкапа для скачивания/удаления |
| 3 | AssignedPsychologistID | int | [1 – 999999] | Список | Назначение/смена психолога консультации администратором |
| 4 | ReportExportType | string | {pdf, xlsx} | Кнопка/действие | Выбор формата выгрузки отчета |

В Таблице 5 представлены выходные данные, которые предоставляет подсистема в процессе учета и формирования отчетных материалов.

**Таблица 5 – Выходные данные**

Выходные данные интерфейса

| No | Наименование | Ограничения | Тип | Описание |
|---|---|---|---|---|
| 1 | StudentListPage | По правам роли (`psychologist`, `admin`) | Веб-страница | Список учащихся с ФИО и классом |
| 2 | RequestListPage | По правам роли (`psychologist`) | Веб-страница | Список обращений с группировкой по статусам |
| 3 | RequestDetailPage | Доступ только к разрешенным записям | Веб-страница | Карточка обращения, заметки, история статуса |
| 4 | ConsultationListPage | Фильтры по дате/статусу/учащемуся | Веб-страница | Журнал консультаций |
| 5 | ConsultationDetailPage | Доступ с учетом роли и состояния | Веб-страница | Карточка консультации (время, форма, результат, вложения) |
| 6 | StudentDashboardPage | Только для `student` | Веб-страница | Личный кабинет учащегося |
| 7 | ChatPage | По правам роли | Веб-страница | Личный чат и история переписки |

Выходные данные отчетности и аналитики

| No | Наименование | Ограничения | Тип | Описание |
|---|---|---|---|---|
| 1 | ReportDynamics | По выбранному периоду и фильтрам | Веб-отчет | Динамика обращений и консультаций |
| 2 | ReportWorkload | Рассчитывается по завершенным консультациям | Веб-отчет | Нагрузка психолога (суммарно/средне) |
| 3 | ReportStudents | По правам `psychologist` | Веб-отчет | Сводка по учащимся |
| 4 | ReportConsultations | По правам `admin` | Веб-отчет | Общая сводка консультаций |
| 5 | ReportExportPDF | Формируется по активным фильтрам | Файл `.pdf` | Выгрузка отчета с таблицами и графиками |
| 6 | ReportExportExcel | Формируется по активным фильтрам | Файл `.xlsx` | Выгрузка отчета в Excel с таблицами и графиками |

Системные и административные выходные данные

| No | Наименование | Ограничения | Тип | Описание |
|---|---|---|---|---|
| 1 | RequestStatusValue | Допустимые переходы статусов | Запись БД/интерфейс | Текущее состояние обращения |
| 2 | ConsultationStatusValue | `Запланирована`/`Завершена`/`Отменена` | Запись БД/интерфейс | Текущее состояние консультации |
| 3 | UnreadMessagesCount | Персонально для каждого пользователя | Числовой индикатор | Количество непрочитанных сообщений в чате |
| 4 | BackupFile | Только для `admin` | Файл `.sql`/`.dump` | Резервная копия базы данных PostgreSQL |
| 5 | ActionLogEntry | Фиксируются служебные действия | Запись БД | Лог операций (создание/удаление бэкапа и др.) |

#### 2.2.3 Методы

- **Методология объектно-ориентированного программирования (ООП).**  
ООП использована при проектировании серверной логики и модели данных подсистемы учета психологических консультаций. Ключевые сущности реализованы в виде классов Django-моделей, наследуемых от `models.Model`: пользователи и роли, учащиеся и классы, обращения и статусы обращений, консультации и формы консультаций, участники консультаций, заметки, вложения, уведомления, чаты и сообщения.  
Каждая модель содержит поля данных (`CharField`, `DateField`, `TimeField`, `TextField`, `ForeignKey`, `ManyToMany` через промежуточную модель и др.) и прикладные методы/свойства (например, представление объекта, вычисляемые отображаемые значения, вспомогательная логика для UI).  
Принципы инкапсуляции, наследования и расширяемости позволили сохранить модульность проекта и упростить сопровождение без изменения базовой структуры.

- **Метод структурного программирования.**  
Подход применен при организации бизнес-процессов и структуры кода. Проект разделен на функциональные Django-приложения: `users` (авторизация, роли, управление пользователями), `students` (учет учащихся), `consultations` (обращения, консультации, чат, отчетность, бэкапы), `config` (глобальные настройки и маршрутизация).  
Каждый модуль имеет типовую структуру: `models.py`, `views.py`, `forms.py`, `urls.py`, `templates/`. Такое разбиение обеспечивает предсказуемую архитектуру, локализацию изменений и возможность независимой доработки отдельных подсистем.

- **Реактивный (событийно-ориентированный) подход в пользовательском интерфейсе.**  
В клиентской части применены интерактивные элементы, реагирующие на действия пользователя и текущее состояние данных: переключение темы оформления, горячие клавиши по ролям, динамическая индикация непрочитанных сообщений, контекстные кнопки в зависимости от статуса консультации/обращения, валидационные сообщения форм, уведомления о результатах операций.  
Хотя интерфейс построен на серверном рендеринге Django-шаблонов, реактивность достигается сочетанием JavaScript-логики, условного рендеринга в шаблонах и строгой серверной валидации, что обеспечивает одновременно удобство UX и корректность данных.

- **Архитектурный паттерн MVT (Model-View-Template).**  
В основе приложения лежит паттерн MVT, адаптированный для Django.  
`Model` описывает структуру данных и связи предметной области (учащиеся, обращения, консультации, чаты, отчеты, логи и др.).  
`View` реализует бизнес-логику: контроль прав по ролям, валидацию операций, переходы статусов, генерацию отчетов, экспорт данных и операции резервного копирования.  
`Template` отвечает за визуальное представление данных и действия пользователя в интерфейсе.  
Разделение ответственности между слоями позволило сделать систему масштабируемой, снизить связанность компонентов и обеспечить устойчивое развитие функционала без архитектурных конфликтов.

#### Тесты

Сценарии тестирования включают:

1. Авторизация и маршрутизация по ролям.
2. Регистрация учащегося и проверка корректности полей.
3. Подача обращения учащимся.
4. Регистрация консультации с проверками даты/времени/формы/длительности.
5. Подтверждение и отмена участия учащегося.
6. Завершение/отмена консультации и связанные переходы статусов.
7. Работа чата и контроль непрочитанных сообщений.
8. Формирование и экспорт отчетов.
9. Создание, скачивание и удаление бэкапов.

Критерии успешности:

- отсутствие server error;
- корректные сообщения пользователю;
- ожидаемые изменения в БД;
- соблюдение всех ролевых ограничений.

#### 2.2.5 Контроль целостности данных

В Таблице 5 представлен контроль целостности данных, описывающий ситуации и реакцию приложения на выполнение задач, связанных с сохранением, выводом, изменением или удалением данных.

**Таблица 5 – Целостность контроля данных**

| No | Ситуация | Аномалия | Реакция системы | Примечание |
|---|---|---|---|---|
| 1 | Авторизация | Ввод несуществующей пары логин/пароль | Сообщение об ошибке: логин или пароль неверны | Вход с невалидными данными невозможен |
| 2 | Регистрация учащегося | Повторный логин или некорректные ФИО/дата | Сообщение с указанием некорректных полей | Проверяется уникальность логина и валидность полей |
| 3 | Восстановление доступа | Неверное кодовое слово | Сообщение об ошибке восстановления | Смена пароля недоступна без корректного кодового слова |
| 4 | Подача обращения | Некорректная/слишком короткая заметка | Сообщение о валидации | Поле необязательно, но при заполнении проверяется длина |
| 5 | Регистрация консультации | Дата в прошлом | Блокировка сохранения, ошибка формы | Нельзя регистрировать консультацию на прошедшую дату |
| 6 | Регистрация консультации | Время вне диапазона 08:30–16:00 | Ошибка валидации времени | Ограничение рабочего интервала обязательно |
| 7 | Регистрация консультации | Время окончания <= времени начала | Ошибка валидации времени | Интервал консультации должен быть положительным |
| 8 | Регистрация консультации | Длительность > 120 минут | Ошибка валидации длительности | Максимальная длительность консультации — 2 часа |
| 9 | Регистрация консультации | Неверная форма: `individual` с несколькими учащимися или `group` с одним | Ошибка валидации состава участников | Контроль логики формы консультации |
| 10 | Завершение консультации | Не указан результат консультации | Сообщение о необходимости заполнить результат | Завершение без результата запрещено |
| 11 | Завершение консультации | Попытка завершить консультацию не закрепленным психологом | Блокировка операции, предупреждение | Завершать может только назначенный (закрепленный) психолог |
| 12 | Участие учащегося | Подтверждение/отмена участия в отмененной или завершенной консультации | Блокировка действия, сообщение | Статус консультации приоритетен над действиями участия |
| 13 | Чат учащегося | Повторный учет прочтения или конфликт ролей при просмотре | Персональный пересчет непрочитанных сообщений | Прочтение админом не сбрасывает непрочитанное у психолога и наоборот |
| 14 | Резервное копирование БД | `pg_dump` недоступен или неверный формат бэкапа | Сообщение об ошибке, операция не выполняется | Допустимые форматы: `sql` и `dump`, действие логируется |

### Проектирование

#### Схема архитектуры приложения

Архитектура системы трехслойная:

- слой хранения: PostgreSQL;
- слой серверной логики: Django-приложения `users`, `students`, `consultations`;
- слой представления: шаблоны, стили, скрипты.

Поток обработки: HTTP-запрос → URL → View → ORM/БД → Template/файл экспорта → HTTP-ответ.

#### Логическая схема данных

Основные группы сущностей:

- учетные (`users`, `roles`);
- образовательные (`students`, `classrooms`);
- процессные (`requests`, `request_statuses`, `consultations`, `consultation_forms`, `consultation_students`);
- коммуникационные (`request_notes`, `notes`, `student_notifications`, `student_psychologist_chats`, `chat_messages`, `chat_message_reads`);
- служебные (`attachments`, `reports`, `logs`).

Ключевые связи:

- один учащийся — много обращений;
- одно обращение — много консультаций;
- одна консультация — много учащихся через промежуточную таблицу;
- один чат на учащегося с закрепленным психологом;
- много отметок прочтения на одно сообщение (по пользователям).

#### Физическая схема данных

Физическая реализация ориентирована на PostgreSQL и включает:

- таблицы предметной области;
- индексы для ускорения запросов;
- ограничения целостности;
- представления и процедурные элементы SQL-схемы;
- служебные таблицы Django.

Файловые данные:

- `media/` — вложения консультаций;
- `backups/` — резервные копии базы.

#### Структурная схема

Модульное разделение проекта:

- `users` — учетные записи, роли, авторизация, восстановление;
- `students` — карточки учащихся;
- `consultations` — обращения, консультации, чат, отчеты, бэкапы;
- `config` — настройки, маршрутизация, общие процессоры.

#### Функциональная схема

Подсистема состоит из функциональных контуров:

1. доступ и роли;
2. обращения;
3. консультации;
4. участие учащихся;
5. чат обратной связи;
6. отчетность;
7. обслуживание БД (бэкап).

#### Диаграмма классов

На текущем этапе диаграмма не приводится (по требованию), но классовая структура описывается моделями Django и их связями:

- пользователь и роли;
- учащиеся и связанные сущности;
- обращения и статусы;
- консультации, формы и участники;
- чат, сообщения и отметки прочтения;
- отчеты, вложения, логи.

#### Схема тестирования

На этапе текстового оформления схема тестирования фиксируется как набор контуров проверок:

- модульные проверки валидации;
- интеграционные проверки представлений;
- ролевые пользовательские сценарии;
- регрессионные сценарии по критическим функциям.

#### Схема пользовательского интерфейса

Интерфейсная организация (без графических схем):

- единая навигация и единый стиль страниц;
- рабочие списки в табличном виде;
- карточки детального просмотра;
- формы ввода с валидацией;
- дашборды и отчетные блоки;
- поддержка светлой/темной темы и горячих клавиш внутри системы.

#### Результат работы программы

Итогом разработки является функционирующая подсистема, позволяющая:

- автоматизировать учет психологической работы в школе;
- обеспечить прозрачный контроль обращений и консультаций;
- централизовать коммуникацию учащихся с психологом;
- получать аналитические данные и выгрузки;
- выполнять администрирование базы данных через встроенные инструменты.

---

## ТЕХНОЛОГИЧЕСКАЯ ЧАСТЬ

### Инструментальные средства

- Python, Django, PostgreSQL
- ORM Django
- ReportLab, openpyxl
- VS Code, venv, pip

### Отладка программы

- `python manage.py check`
- локальный запуск `python manage.py runserver`
- ручная проверка сценариев по ролям

### Защитное программирование

- валидация ввода;
- контроль прав;
- контроль статусов и переходов;
- обработка ошибок внешних операций.

### Характеристики программы

- веб-приложение клиент-серверного типа;
- кроссплатформенный доступ через браузер;
- масштабируемая модульная структура.

---

## ЗАКЛЮЧЕНИЕ

Подсистема учета психологических консультаций реализована как целостное веб-решение для практической эксплуатации в школьной среде. Проект закрывает полный цикл работы с обращениями и консультациями, обеспечивает ролевую безопасность, аналитическую прозрачность и инфраструктурные механизмы сопровождения данных.

---

## СПИСОК ИСПОЛЬЗОВАННЫХ МАТЕРИАЛОВ

1. Django Documentation — https://docs.djangoproject.com/
2. PostgreSQL Documentation — https://www.postgresql.org/docs/
3. Psycopg 3 Documentation — https://www.psycopg.org/psycopg3/docs/
4. OpenPyXL Documentation — https://openpyxl.readthedocs.io/
5. ReportLab Documentation — https://www.reportlab.com/documentation/
6. Python Documentation — https://docs.python.org/3/

---

## ПРИЛОЖЕНИЯ

### ПРИЛОЖЕНИЕ А. Текст программы

Исходный код расположен в каталогах `users/`, `students/`, `consultations/`, `config/`, `templates/`, `static/`.

### ПРИЛОЖЕНИЕ Б. Сценарий и результаты тестовых испытаний

Оформляется отдельным документом на основе утвержденных тест-сценариев по ролям и бизнес-правилам.

### ПРИЛОЖЕНИЕ В. Руководство пользователя

Пользовательские инструкции и порядок работы с системой оформляются отдельным документом.

### ПРИЛОЖЕНИЕ Г. Скрипт базы данных

Скрипты базы данных проекта: `init_db.sql`, `schema.sql` и дополнительные SQL-скрипты в корне проекта.

---

## Быстрый запуск (практическая часть)

```powershell
cd c:\Users\User\Desktop\Kursach3
python -m venv venv
.\venv\Scripts\activate
pip install -r requirements.txt
python manage.py migrate
python manage.py runserver
```

Для PostgreSQL настройте переменные окружения `POSTGRES_DB`, `POSTGRES_USER`, `POSTGRES_PASSWORD`, `POSTGRES_HOST`, `POSTGRES_PORT`.
